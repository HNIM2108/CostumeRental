<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√°o C√°o Th·ªëng K√™</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        /* CSS ri√™ng cho trang Th·ªëng k√™ */
        .filter-bar {
            background: #fff;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            align-items: flex-end;
            margin-bottom: 30px;
        }

        .summary-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }

        .card {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            text-align: center;
            border-left: 5px solid #ddd;
        }

        .card.green { border-left-color: #28a745; }
        .card.blue { border-left-color: #007bff; }

        .card h4 { margin: 0 0 10px 0; color: #666; font-size: 0.9em; text-transform: uppercase; }
        .card .value { font-size: 1.8em; font-weight: bold; color: #333; }

        .table-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
<div class="container" style="max-width: 1100px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="margin: 0;">Th·ªëng K√™ Doanh Thu</h2>
        <a href="/" class="btn btn-secondary">üè† V·ªÅ Trang Ch·ªß</a>
    </div>
    <hr>

    <div class="filter-bar" id="section-filter">
        <div class="form-group" style="flex: 2; min-width: 200px;">
            <label>Lo·∫°i b√°o c√°o:</label>
            <select id="cboReportType">
                <option value="CASH_FLOW">üí∞ D√≤ng ti·ªÅn th·ª±c thu (Cash Flow)</option>
                <option value="SALES">üìà Doanh s·ªë b√°n h√†ng (Sales)</option>
            </select>
            <small style="color: #666; font-style: italic;">
                * Cash Flow: Ti·ªÅn th·ª±c t·∫ø ƒë√£ thu (C·ªçc, Thanh to√°n).<br>
                * Sales: T·ªïng gi√° tr·ªã c√°c h√≥a ƒë∆°n ƒë√£ ch·ªët.
            </small>
        </div>

        <div class="form-group" style="flex: 1; min-width: 150px;">
            <label>T·ª´ ng√†y:</label>
            <input type="date" id="dtpStartDate">
        </div>

        <div class="form-group" style="flex: 1; min-width: 150px;">
            <label>ƒê·∫øn ng√†y:</label>
            <input type="date" id="dtpEndDate">
        </div>

        <div class="form-group">
            <button id="btnViewReport" class="btn btn-primary" style="height: 42px; min-width: 120px;">
                üìä Xem B√°o C√°o
            </button>
        </div>
    </div>

    <div id="section-result" style="display: none;">

        <h3 id="lblReportTitle" style="text-align: center; margin-bottom: 20px; color: #0056b3;"></h3>

        <div class="summary-cards">
            <div class="card green">
                <h4>T·ªïng Doanh Thu</h4>
                <div class="value" id="lblTotalRevenue" style="color: #28a745;">0 ƒë</div>
            </div>
            <div class="card blue">
                <h4>T·ªïng S·ªë Giao D·ªãch / ƒê∆°n</h4>
                <div class="value" id="lblOrderCount" style="color: #007bff;">0</div>
            </div>
        </div>

        <div class="table-container">
            <table id="tblResult">
                <thead id="theadResult">
                <tr>
                    <th style="width: 50px;">STT</th>
                    <th style="width: 100px;">M√£ KH</th>
                    <th>T√™n Kh√°ch H√†ng</th>
                    <th style="width: 150px; text-align: center;">S·ªë L·∫ßn GD</th>
                    <th style="width: 200px; text-align: right;">Doanh Thu</th>
                </tr>
                </thead>
                <tbody id="tbodyResult">
                </tbody>
            </table>
        </div>
    </div>

</div>

<script src="/js/api-config.js"></script>
<script src="/js/statistics.js"></script>

</body>
</html>